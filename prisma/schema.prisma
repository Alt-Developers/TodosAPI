generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-1.1.x"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model TodoItem {
  id        String    @id @unique(map: "id_UNIQUE") @default(uuid())
  name      String
  desc      String?
  due       DateTime?
  createdAt DateTime  @default(now())
  listId    String
  todoList  TodoList  @relation(fields: [listId], references: [id])

  @@index([listId], map: "TodoItem_listId_fkey")
}

model TodoList {
  id       String     @id @unique(map: "id_UNIQUE") @default(uuid())
  name     String
  desc     String
  createdAt DateTime  @default(now())
  ownerId  String
  owner    User       @relation(fields: [ownerId], references: [id])
  todoItem TodoItem[]

  @@index([ownerId], map: "TodoList_ownerId_fkey")
}

model User {
  id       String     @id @unique(map: "id_UNIQUE") @default(uuid())
  ssAccId  String     @unique(map: "ssAccId_UNIQUE")
  active   Boolean   @default(true)
  todoList TodoList[]
}
